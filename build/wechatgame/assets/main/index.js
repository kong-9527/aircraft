System.register("chunks:///_virtual/AircraftController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GridCoordinateSystem.ts"],(function(t){var i,r,o,n,e,s,a,c,u,d,h,f,l,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){e=t.cclegacy,s=t._decorator,a=t.Node,c=t.Label,u=t.input,d=t.Input,h=t.Vec3,f=t.UITransform,l=t.Component},function(t){p=t.GridCoordinateSystem}],execute:function(){var g,y,T,b,v,N,G,P,m;e._RF.push({},"da056ePlQdEGoRoBqdpB9SF","AircraftController",void 0);var C=s.ccclass,x=s.property;t("AircraftController",(g=C("AircraftController"),y=x(a),T=x(c),b=x(a),g((G=i((N=function(t){function i(){for(var i,r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];return i=t.call.apply(t,[this].concat(e))||this,o(i,"boardNode",G,n(i)),o(i,"positionLabel",P,n(i)),o(i,"aircraftNode",m,n(i)),i.currentGridX=1,i.currentGridY=1,i.isDragging=!1,i.dragOffset=new h,i.AIRCRAFT_SIZE=10,i}r(i,t);var e=i.prototype;return e.start=function(){this.setupTouchEvents(),this.updatePositionDisplay()},e.setupTouchEvents=function(){u.on(d.EventType.TOUCH_START,this.onTouchStart,this),u.on(d.EventType.TOUCH_MOVE,this.onTouchMove,this),u.on(d.EventType.TOUCH_END,this.onTouchEnd,this)},e.onTouchStart=function(t){var i=t.getLocation();if(this.isPointOnAircraft(i)){this.isDragging=!0;var r=this.aircraftNode.getWorldPosition();this.dragOffset.x=i.x-r.x,this.dragOffset.y=i.y-r.y}},e.onTouchMove=function(t){if(this.isDragging){var i=t.getLocation(),r=new h(i.x-this.dragOffset.x,i.y-this.dragOffset.y,0);this.aircraftNode.setWorldPosition(r),this.identifyAircraftPosition()}},e.onTouchEnd=function(t){this.isDragging&&(this.isDragging=!1,this.identifyAircraftPosition(),this.snapToGrid())},e.isPointOnAircraft=function(t){var i,r=this.aircraftNode.getWorldPosition(),o=null==(i=this.aircraftNode.getComponent(f))?void 0:i.contentSize;if(!o)return!1;var n=o.width/2,e=o.height/2;return Math.abs(t.x-r.x)<=n&&Math.abs(t.y-r.y)<=e},e.identifyAircraftPosition=function(){if(this.boardNode){var t=this.aircraftNode.getWorldPosition(),i=p.screenToGrid(t.x,t.y,this.boardNode);-1!==i.x&&-1!==i.y&&(this.currentGridX=i.x,this.currentGridY=i.y,this.updatePositionDisplay())}},e.snapToGrid=function(){var t;if(this.boardNode){var i=null==(t=this.boardNode.getComponent(f))?void 0:t.contentSize;if(i){var r=i.width/12,o=i.height/12,n=this.boardNode.getWorldPosition(),e=n.x-i.width/2+(this.currentGridX-.5)*r,s=n.y-i.height/2+(this.currentGridY-.5)*o;this.aircraftNode.setWorldPosition(e,s,0)}}},e.updatePositionDisplay=function(){if(this.positionLabel){var t=p.getPositionInfo(this.currentGridX,this.currentGridY);this.positionLabel.string=t}},e.setAircraftPosition=function(t,i){t<1||t>12||i<1||i>12?console.warn("无效的网格坐标"):(this.currentGridX=t,this.currentGridY=i,this.snapToGrid(),this.updatePositionDisplay())},e.getCurrentPosition=function(){return{gridX:this.currentGridX,gridY:this.currentGridY,cellNumber:p.gridToCellNumber(this.currentGridX,this.currentGridY),complexNumber:p.gridToComplexNumber(this.currentGridX,this.currentGridY)}},e.setPositionByCellNumber=function(t){var i=p.cellNumberToGrid(t);-1!==i.x&&-1!==i.y&&this.setAircraftPosition(i.x,i.y)},e.setPositionByComplexNumber=function(t){var i=p.complexNumberToGrid(t);-1!==i.x&&-1!==i.y&&this.setAircraftPosition(i.x,i.y)},e.onDestroy=function(){u.off(d.EventType.TOUCH_START,this.onTouchStart,this),u.off(d.EventType.TOUCH_MOVE,this.onTouchMove,this),u.off(d.EventType.TOUCH_END,this.onTouchEnd,this)},i}(l)).prototype,"boardNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(N.prototype,"positionLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(N.prototype,"aircraftNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=N))||v));e._RF.pop()}}}));

System.register("chunks:///_virtual/GameBoard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AircraftController.ts"],(function(r){var t,i,e,n,o,a,s,l,c,u,f,h,p,d,b;return{setters:[function(r){t=r.applyDecoratedDescriptor,i=r.inheritsLoose,e=r.extends,n=r.initializerDefineProperty,o=r.assertThisInitialized},function(r){a=r.cclegacy,s=r._decorator,l=r.Graphics,c=r.Node,u=r.Label,f=r.EditBox,h=r.Button,p=r.Color,d=r.Component},function(r){b=r.AircraftController}],execute:function(){var m,C,y,g,x,I,L,v,N,E,A,P,B,G,w;a._RF.push({},"06ea4dXM6xO36HTz94VP44O","GameBoard",void 0);var _=s.ccclass,S=s.property;r("GameBoard",(m=_("GameBoard"),C=S(l),y=S(c),g=S(u),x=S(f),I=S(f),L=S(h),m((E=t((N=function(r){function t(){for(var t,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return t=r.call.apply(r,[this].concat(e))||this,n(t,"gridGraphics",E,o(t)),n(t,"aircraftContainer",A,o(t)),n(t,"infoLabel",P,o(t)),n(t,"cellNumberInput",B,o(t)),n(t,"complexNumberInput",G,o(t)),n(t,"setPositionButton",w,o(t)),t.BOARD_SIZE=600,t.CELL_SIZE=50,t.aircraftControllers=[],t}i(t,r);var a=t.prototype;return a.start=function(){this.drawGrid(),this.setupUI(),this.createAircrafts()},a.drawGrid=function(){if(this.gridGraphics){this.gridGraphics.clear(),this.gridGraphics.lineWidth=1,this.gridGraphics.strokeColor=new p(100,100,100,255);for(var r=0;r<=12;r++){var t=r*this.CELL_SIZE;this.gridGraphics.moveTo(t,0),this.gridGraphics.lineTo(t,this.BOARD_SIZE)}for(var i=0;i<=12;i++){var e=i*this.CELL_SIZE;this.gridGraphics.moveTo(0,e),this.gridGraphics.lineTo(this.BOARD_SIZE,e)}this.gridGraphics.stroke(),this.drawCoordinateLabels()}},a.drawCoordinateLabels=function(){},a.setupUI=function(){this.setPositionButton&&this.setPositionButton.node.on(h.EventType.CLICK,this.onSetPositionClick,this)},a.createAircrafts=function(){var r=this;[{x:1,y:5},{x:3,y:12},{x:10,y:1},{x:11,y:9}].forEach((function(t,i){r.createAircraft(t.x,t.y,i)}))},a.createAircraft=function(r,t,i){var e=new c("Aircraft_"+i);e.setParent(this.aircraftContainer);var n=e.addComponent(b);n.boardNode=this.node,n.aircraftNode=e,n.positionLabel=this.infoLabel,n.setAircraftPosition(r,t),this.aircraftControllers.push(n),this.drawAircraft(e,r,t,i)},a.drawAircraft=function(r,t,i,e){var n=(t-1)*this.CELL_SIZE+this.CELL_SIZE/2,o=(i-1)*this.CELL_SIZE+this.CELL_SIZE/2;r.setPosition(n,o,0);var a=r.addComponent(l);a.circle(0,0,8),a.fillColor=new p(0,0,0,255),a.fill();a.strokeColor=new p(255,255,255,255),a.lineWidth=2,[{x:-15,y:0},{x:15,y:0},{x:0,y:-15},{x:0,y:15},{x:-10,y:-10},{x:10,y:-10},{x:-10,y:10},{x:10,y:10},{x:0,y:0}].forEach((function(r){a.circle(r.x,r.y,6),a.stroke()}))},a.onSetPositionClick=function(){if(this.cellNumberInput&&this.cellNumberInput.string){var r,t=parseInt(this.cellNumberInput.string);if(!isNaN(t)&&t>=1&&t<=144)return void(null==(r=this.aircraftControllers[0])||r.setPositionByCellNumber(t))}var i;this.complexNumberInput&&this.complexNumberInput.string&&(null==(i=this.aircraftControllers[0])||i.setPositionByComplexNumber(this.complexNumberInput.string))},a.getAllAircraftPositions=function(){return this.aircraftControllers.map((function(r,t){var i=r.getCurrentPosition();return e({aircraftIndex:t},i)}))},a.findAircraftByCellNumber=function(r){return this.aircraftControllers.find((function(t){return t.getCurrentPosition().cellNumber===r}))},a.findAircraftByComplexNumber=function(r){return this.aircraftControllers.find((function(t){return t.getCurrentPosition().complexNumber===r}))},a.updateInfoDisplay=function(){if(this.infoLabel){var r=this.getAllAircraftPositions(),t="飞机位置信息:\n";r.forEach((function(r,i){t+="飞机"+(i+1)+": "+r.complexNumber+" (格子"+r.cellNumber+")\n"})),this.infoLabel.string=t}},t}(d)).prototype,"gridGraphics",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(N.prototype,"aircraftContainer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(N.prototype,"infoLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(N.prototype,"cellNumberInput",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(N.prototype,"complexNumberInput",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(N.prototype,"setPositionButton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=N))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameExample.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GridCoordinateSystem.ts","./GameBoard.ts"],(function(t){var e,n,o,i,r,l,s,a,u,c,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Label,a=t.Button,u=t.Component},function(t){c=t.GridCoordinateSystem},function(t){m=t.GameBoard}],execute:function(){var p,f,d,g,h,B,b,C,y,v,A,N,T;r._RF.push({},"0b882AnNPtGD6WKlOndgrHy","GameExample",void 0);var P=l.ccclass,x=l.property;t("GameExample",(p=P("GameExample"),f=x(m),d=x(s),g=x(a),h=x(a),B=x(a),p((y=e((C=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,o(e,"gameBoard",y,i(e)),o(e,"statusLabel",v,i(e)),o(e,"testButton1",A,i(e)),o(e,"testButton2",N,i(e)),o(e,"testButton3",T,i(e)),e}n(e,t);var r=e.prototype;return r.start=function(){this.setupTestButtons(),this.updateStatus()},r.setupTestButtons=function(){this.testButton1&&this.testButton1.node.on(a.EventType.CLICK,this.onTestButton1Click,this),this.testButton2&&this.testButton2.node.on(a.EventType.CLICK,this.onTestButton2Click,this),this.testButton3&&this.testButton3.node.on(a.EventType.CLICK,this.onTestButton3Click,this)},r.onTestButton1Click=function(){var t,e=this.gameBoard.getAllAircraftPositions()[0];e&&(null==(t=this.gameBoard.findAircraftByCellNumber(e.cellNumber))||t.setPositionByCellNumber(50),this.updateStatus())},r.onTestButton2Click=function(){var t,e=this.gameBoard.getAllAircraftPositions()[0];e&&(null==(t=this.gameBoard.findAircraftByCellNumber(e.cellNumber))||t.setPositionByComplexNumber("6+8i"),this.updateStatus())},r.onTestButton3Click=function(){this.gameBoard.updateInfoDisplay(),this.updateStatus()},r.updateStatus=function(){if(this.statusLabel){var t=this.gameBoard.getAllAircraftPositions(),e="当前状态:\n";t.forEach((function(t,n){e+="飞机"+(n+1)+": 位置"+t.complexNumber+", 格子"+t.cellNumber+"\n"})),e+="\n操作说明:\n",e+="1. 拖拽飞机到任意位置\n",e+="2. 系统自动识别位置编号\n",e+="3. 点击测试按钮查看效果\n",this.statusLabel.string=e}},r.demonstrateCoordinateConversion=function(){console.log("=== 坐标转换演示 ==="),console.log("网格坐标 (3, 4) -> 格子编号:",c.gridToCellNumber(3,4)),console.log("格子编号 50 -> 网格坐标:",c.cellNumberToGrid(50)),console.log("网格坐标 (6, 8) -> 复数编号:",c.gridToComplexNumber(6,8)),console.log("复数编号 '6+8i' -> 网格坐标:",c.complexNumberToGrid("6+8i")),console.log("位置信息 (5, 7):",c.getPositionInfo(5,7))},r.getAircraftPositionStats=function(){var t=this.gameBoard.getAllAircraftPositions(),e={totalAircrafts:t.length,occupiedCells:t.map((function(t){return t.cellNumber})),occupiedComplexNumbers:t.map((function(t){return t.complexNumber})),gridCoordinates:t.map((function(t){return{x:t.gridX,y:t.gridY}}))};return console.log("飞机位置统计:",e),e},r.validateAircraftPositions=function(){var t=this.gameBoard.getAllAircraftPositions(),e=t.filter((function(t){return t.gridX>=1&&t.gridX<=12&&t.gridY>=1&&t.gridY<=12}));return console.log("有效位置: "+e.length+"/"+t.length),e.length===t.length},e}(u)).prototype,"gameBoard",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(C.prototype,"statusLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(C.prototype,"testButton1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(C.prototype,"testButton2",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(C.prototype,"testButton3",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=C))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/GridCoordinateSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t,i,n,o,a,u,c;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,i=r.initializerDefineProperty,n=r.assertThisInitialized},function(r){o=r.cclegacy,a=r._decorator,u=r.UITransform,c=r.Component}],execute:function(){var l,d,s,f,h;o._RF.push({},"dad384/7AVHiYlRYAwS1H8a","GridCoordinateSystem",void 0);var p=a.ccclass,y=a.property;r("GridCoordinateSystem",p("GridCoordinateSystem")(((h=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=r.call.apply(r,[this].concat(o))||this,i(e,"boardWidth",s,n(e)),i(e,"boardHeight",f,n(e)),e}return t(e,r),e.gridToCellNumber=function(r,e){return r<1||r>12||e<1||e>12?-1:12*(e-1)+r},e.cellNumberToGrid=function(r){if(r<1||r>144)return{x:-1,y:-1};var e=Math.ceil(r/12);return{x:r-12*(e-1),y:e}},e.gridToComplexNumber=function(r,e){return r<1||r>12||e<1||e>12?"无效坐标":r+"+"+e+"i"},e.complexNumberToGrid=function(r){try{var e=r.match(/^(\d+)\+(\d+)i$/);if(!e)return{x:-1,y:-1};var t=parseInt(e[1]),i=parseInt(e[2]);return t<1||t>12||i<1||i>12?{x:-1,y:-1}:{x:t,y:i}}catch(r){return{x:-1,y:-1}}},e.screenToGrid=function(r,e,t){var i,n=t.getWorldPosition(),o=null==(i=t.getComponent(u))?void 0:i.contentSize;if(!o)return{x:-1,y:-1};var a=r-n.x+o.width/2,c=e-n.y+o.height/2,l=Math.floor(a/(o.width/12))+1,d=Math.floor(c/(o.height/12))+1;return l<1||l>12||d<1||d>12?{x:-1,y:-1}:{x:l,y:d}},e.getPositionInfo=function(r,e){return r<1||r>12||e<1||e>12?"无效位置":"格子编号: "+this.gridToCellNumber(r,e)+", 复数编号: "+this.gridToComplexNumber(r,e)+", 坐标: ("+r+", "+e+")"},e}(c)).GRID_SIZE=12,h.TOTAL_CELLS=144,s=e((d=h).prototype,"boardWidth",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 600}}),f=e(d.prototype,"boardHeight",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 600}}),l=d))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AircraftController.ts","./GameBoard.ts","./GameExample.ts","./GridCoordinateSystem.ts","./ProgressBar.ts"],(function(){return{setters:[null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/ProgressBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,l,s,n,a,o,c,u,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){s=e.cclegacy,n=e._decorator,a=e.Prefab,o=e.Node,c=e.director,u=e.instantiate,p=e.Vec3,h=e.Component}],execute:function(){var f,d,g,b,C,y,v,P;s._RF.push({},"ab748LW9I1AOL7dVL2/aZCu","ProgressBar",void 0);var m=n.ccclass,w=n.property;e("ProgressBar",(f=m("ProgressBar"),d=w({type:a}),g=w({type:o}),f((y=t((C=function(e){function t(){for(var t,r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s))||this,i(t,"fillCellPrefab",y,l(t)),i(t,"fillsContainer",v,l(t)),i(t,"totalCells",P,l(t)),t.cells=[],t.progress=0,t.duration=5,t.elapsed=0,t}r(t,e);var s=t.prototype;return s.start=function(){this.createCells(0),this.progress=0,this.elapsed=0},s.update=function(e){if(!(this.progress>=1)){this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1);var t=Math.round(this.progress*this.totalCells);this.createCells(t),this.progress>=1&&this.scheduleOnce((function(){c.loadScene("MainMenu")}),.3)}},s.createCells=function(e){for(;this.cells.length<e;){var t=u(this.fillCellPrefab),r=this.cells.length;t.setPosition(new p(23*r,0,0)),this.fillsContainer.addChild(t),this.cells.push(t)}for(var i=0;i<this.cells.length;i++)this.cells[i].active=i<e},t}(h)).prototype,"fillCellPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(C.prototype,"fillsContainer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(C.prototype,"totalCells",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),b=C))||b));s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});